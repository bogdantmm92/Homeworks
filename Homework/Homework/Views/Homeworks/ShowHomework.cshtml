@model Homework.Models.SeeHomeworkModel

@using PagedList.Mvc;
@using PagedList;

<link href="~/Content/PagedList.css" rel="stylesheet" type="text/css" />

@{
    ViewBag.Title = "ShowHomework";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>Titlul temei :   @Model.Hm.Title</h2>
<div>  Creata de   @Model.Hm.Professor</div>

<div>  Deadline:   @Model.Hm.deadline </div>
<div>  Rating :   @Model.Hm.rating   </div>
<div>  Nota mea:   @Model.Hm.grade    </div>
<div>  Enuntul temei :   @Model.Hm.Text     </div>

@if (Model.Hm.deadline < DateTime.Now && Model.Hm.privat == 0)
{
    @Html.ActionLink("Vezi surse", "Sources", "Homeworks", new { id_tema = Model.id_tema }, null);
}

<div>
    Fisiere pentru tema : 
    <div> 

    @{if(Model.Hm.help != null)
        {@Html.ActionLink("Descarca Fisier Help", "DownloadHelp", "Homeworks", new { id_help = Model.Hm.help }, null);} }</div>
    <div> @Html.ActionLink("Descarca InputOutput", "DownloadIn_Out", "Homeworks", new { id_io = Model.Hm.in_out }, null) </div>
</div>
<div>@Html.ActionLink("Vezi Note", "VeziNote", "Homeworks", new { id_tema = Model.Hm.id_tema }, null) </div>


@Html.Partial("_AddComment")


<div id="allComments">
    @foreach (var comm in Model.Hm.comentariu)
    { <div> <p><strong>@comm.username :</strong></p> <p><i>@comm.data</i></p> <p>@comm.text</p> </div>

        <center> <div style="height: 3px; width: 800px; background-color: black"></div> </center> }
</div>


@if(Model.Hm.comentariu.Any())
{ 
    <center>
        <p> Page @(Model.Hm.comentariu.PageCount < Model.Hm.comentariu.PageNumber ? 0 : Model.Hm.comentariu.PageNumber) of @Model.Hm.comentariu.PageCount </p>
    </center>

    @Html.PagedListPager(Model.Hm.comentariu, page => Url.Action("ShowHomework", new { page, id_tema = Model.id_tema }))
}

